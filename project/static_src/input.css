/* ===== Tailwind layers ===== */
@tailwind base;

/* ==== BASE: tipografia e resets leves ==== */
@layer base {
  :root { font-size: 16px; }
  @media (min-width: 1024px) { :root { font-size: 17px; } }
  @media (min-width: 1280px) { :root { font-size: 18px; } }

  body { @apply text-base; }
  h1   { @apply text-2xl font-semibold; }
  h2   { @apply text-xl  font-semibold; }
}

@tailwind components;

/* ==== COMPONENTS: helpers e UI reutilizável ==== */
@layer components {
  .container-page { @apply w-full max-w-5xl mx-auto; }
  .card-panel     { @apply card bg-base-100 border shadow-md rounded-box; }

  .table-wrap     { @apply overflow-x-auto rounded-b-box; }
  .table-comfy    { @apply table table-zebra text-sm md:text-base; }

  .actions        { @apply flex items-center justify-between gap-3 mb-4; }

  .search-join    { @apply join; }
  .search-input   { @apply input input-bordered join-item; }
  .search-btn     { @apply btn btn-primary join-item; }

  .btn-rd         { @apply btn; }
  .btn-rd-primary { @apply btn btn-primary; }

  /* ==== RAIL + FLYOUT ==== */
  .rd-rail {
    @apply fixed left-0 top-0 h-screen w-16 bg-base-100 border-r z-30
           flex flex-col items-center gap-3 py-4;
  }
  .rd-rail .rail-btn { @apply btn btn-ghost btn-square; }

  .rd-flyout {
    @apply fixed top-0 left-16 h-screen w-64 bg-base-100 border-r shadow-xl
           transform -translate-x-full transition-transform duration-200 z-40;
  }
  .rd-backdrop {
    @apply fixed inset-0 bg-black/30 opacity-0 pointer-events-none
           transition-opacity duration-200 z-20;
  }
  .flyout-open .rd-flyout   { @apply translate-x-0; }
  .flyout-open .rd-backdrop { @apply opacity-100 pointer-events-auto; }

  .rd-main { @apply min-h-screen pl-16; }

  /* LAYOUT */
  .rd-shell   { @apply min-h-screen; }
  .rd-topbar  { @apply navbar bg-base-100 border-b sticky top-0 z-50; }
  .rd-sidebar { @apply fixed left-0 top-0 h-screen bg-base-100 border-r z-40 overflow-hidden transition-[width] duration-200; }
  .rd-content { @apply transition-[padding-left] duration-200; }

  /* Larguras (default = colapsado) */
  .rd-sidebar { @apply w-16; }
  .rd-content { @apply pl-16; }

  /* Quando expandido (classe no <html>) */
  .sidebar-expanded .rd-sidebar { @apply w-64; }
  .sidebar-expanded .rd-content { @apply pl-64; }

  /* Itens do menu */
  .rd-nav       { @apply flex flex-col gap-1 p-2; }
  .rd-nav-btn   { @apply btn btn-ghost justify-start gap-3 w-full; }
  .rd-nav-icon  { @apply inline-flex shrink-0; }
  .rd-nav-label { @apply hidden; }         /* escondido quando colapsado */
  .rd-caret     { @apply hidden ml-auto; }  /* caret some quando colapsado */

  .sidebar-expanded .rd-nav-label { @apply inline; }
  .sidebar-expanded .rd-caret     { @apply inline-flex; }

  /* Submenu */
  .rd-submenu    { @apply hidden pl-10 pr-2; }
  .rd-submenu a  { @apply btn btn-ghost justify-start w-full; }
  .submenu-open .rd-submenu { @apply block; }

  /* Separador inferior */
  .rd-nav-bottom { @apply mt-auto p-2; }

  /* Mini-sidebar (atributo no body para o layout antigo) */
  body[data-sidebar="mini"] .sidebar                 { @apply w-16; }
  body[data-sidebar="mini"] .sidebar .label          { @apply hidden; }
  body[data-sidebar="mini"] .sidebar .menu > li > a  { @apply justify-center; }
  body[data-sidebar="mini"] .sidebar details > summary { @apply justify-center; }
  body[data-sidebar="mini"] .sidebar details > summary .ml-auto { @apply hidden; }
  body[data-sidebar="mini"] .sidebar .menu           { @apply px-0; }
  body[data-sidebar="mini"] .sidebar .menu > li > a i{ @apply mr-0; }
}

/* ==== COMPONENTS (variação com #rdSidebar) ==== */
@layer components {
  /* largura normal quando NÃO está mini */
  body:not([data-sidebar="mini"]) #rdSidebar { @apply !w-64; }

  /* largura quando mini (trilho) */
  body[data-sidebar="mini"] #rdSidebar { @apply !w-16; }

  /* esconder textos e centralizar ícones no modo mini */
  body[data-sidebar="mini"] #rdSidebar .label                 { @apply hidden; }
  body[data-sidebar="mini"] #rdSidebar .menu > li > a         { @apply justify-center; }
  body[data-sidebar="mini"] #rdSidebar details > summary      { @apply justify-center; }
  body[data-sidebar="mini"] #rdSidebar details > summary .ml-auto { @apply hidden; }
  body[data-sidebar="mini"] #rdSidebar .menu                  { @apply px-0; }
  body[data-sidebar="mini"] #rdSidebar .menu > li > a i       { @apply mr-0; }
}

/* ==== COMPONENTS (auth forms) ==== */
@layer components {
  /* Estilo base para formulários de autenticação */
  .auth-form label { @apply block mb-2 text-sm font-medium text-gray-900 dark:text-white; }

  .auth-form input[type="text"],
  .auth-form input[type="email"],
  .auth-form input[type="password"],
  .auth-form input[type="number"],
  .auth-form input[type="tel"],
  .auth-form select,
  .auth-form textarea {
    @apply bg-gray-50 border border-gray-300 text-gray-900 rounded-lg
           focus:ring-2 focus:ring-primary-300 focus:border-primary-600
           block w-full p-2.5
           dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400
           dark:text-white dark:focus:ring-primary-600 dark:focus:border-primary-600;
  }

  .auth-form .btn-primary {
    @apply w-full text-white bg-primary-600 hover:bg-primary-700
           focus:ring-4 focus:outline-none focus:ring-primary-300
           font-medium rounded-lg text-sm px-5 py-2.5 text-center
           dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800;
  }

  .auth-form .chk {
    @apply w-4 h-4 border border-gray-300 rounded bg-gray-50
           focus:ring-2 focus:ring-primary-300
           dark:bg-gray-700 dark:border-gray-600 dark:focus:ring-primary-600;
  }

  @layer components {
  .btn-cta-white { @apply btn bg-white text-primary-600 border-white hover:bg-gray-50; }
  .btn-cta-blue  { @apply btn bg-primary-600 text-white hover:bg-primary-700; }
}


  .auth-form .muted { @apply text-sm font-light text-gray-500 dark:text-gray-400; }
  .auth-form .alink { @apply font-medium text-primary-600 hover:underline dark:text-primary-500; }
}

@tailwind utilities;
/* ===== Fim ===== */
